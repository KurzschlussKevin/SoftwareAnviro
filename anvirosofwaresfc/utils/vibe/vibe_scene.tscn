[gd_scene load_steps=4 format=3 uid="uid://cg37ous7ht23c"]

[ext_resource type="Script" path="res://utils/vibe/vibe_scene.gd" id="1_jcvj2"]

[sub_resource type="Shader" id="Shader_bg"]
code = "shader_type canvas_item;

uniform vec4 color_top : source_color = vec4(0.1, 0.05, 0.2, 1.0); // Dunkles Lila
uniform vec4 color_bottom : source_color = vec4(0.0, 0.0, 0.05, 1.0); // Fast Schwarz
uniform vec4 color_glow : source_color = vec4(0.0, 0.9, 0.8, 0.5); // Neon TÃ¼rkis

void fragment() {
    // 1. Einfacher Farbverlauf von oben nach unten
    vec4 bg = mix(color_top, color_bottom, UV.y);
    
    // 2. Bewegende 'Plasma'-Wellen
    float wave = sin(UV.x * 10.0 + TIME * 0.5) * cos(UV.y * 10.0 + TIME * 0.3);
    float glow_intensity = smoothstep(0.8, 1.0, wave); // Nur die Spitzen leuchten lassen
    
    // 3. Alles zusammenmischen
    COLOR = bg + (color_glow * glow_intensity * 0.3);
}"

[sub_resource type="ShaderMaterial" id="ShaderMaterial_vibe"]
shader = SubResource("Shader_bg")

[node name="VibeScene" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_jcvj2")

[node name="BackgroundShader" type="ColorRect" parent="."]
material = SubResource("ShaderMaterial_vibe")
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2